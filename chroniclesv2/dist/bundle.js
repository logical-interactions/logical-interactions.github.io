!function(e){function t(a){if(n[a])return n[a].exports;var r=n[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,a){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/dist",t(t.s=7)}([function(e,t){e.exports=React},function(e,t,n){"use strict";function a(e){var n=t.diel.exec(e);n.length>0?(n[0].values.map(function(e){e.map(function(e,t){"ts"===n[0].columns[t]&&(e=new Date(e).toDateString())})}),console.log(n[0].columns.join("\t")),console.log(JSON.stringify(n[0].values).replace(/\],\[/g,"\n").replace("[[","").replace("]]","").replace(/,/g,"\t"))):console.log("NO RESULT")}function r(e){t.diel.worker.postMessage({id:"print",action:"exec",sql:e})}function o(e,t){return console.log("["+t+"] "+e),1}function i(){return+new Date}function s(e,t){for(var n=e.split("-"),a=t.split("-"),r=0;r<n.length;r++){var o=function(e){var t=n[e],r=t.split(":")[0],o=a.filter(function(e){return e.split(":")[0]===r});return 1!==o.length?(console.log("didn't find",r,a),{value:0}):o[0]!==t?{value:0}:void 0}(r);if("object"==typeof o)return o.value}return 1}function l(){return(new Date).toTimeString().substr(0,8)}function c(e,t){var n=document.createElement("a");n.href=window.URL.createObjectURL(e),n.download=t+"_"+l()+".db",n.onclick=function(){setTimeout(function(){window.URL.revokeObjectURL(n.href)},1500)},n.click()}function u(e){var n="",a=t.diel.exec(e);if(a.length&&a[0].values){n+=a[0].columns.join(",")+"\r\n",a[0].values.forEach(function(e){var t=e.join(",");n+=t+"\r\n"});c(new Blob([n],{type:"text/plain;charset=UTF-8"}),"userData.csv"),console.log("should have downloaded",n)}else console.log("NO RESULT")}Object.defineProperty(t,"__esModule",{value:!0});var h=n(10);t.diel=new h.default,window.diel=t.diel,t.ISPROD=!1;t.d=a,window.d=a,t.dW=r,window.dW=r,t.log=o,t.timeNow=i,t.hashCompare=s,t.prettyTimeNow=l,t.downloadHelper=c,t.downloadQueryResultAsCSV=u},function(e,t,n){"use strict";function a(e,t,n){return!!e&&(t<e.high&&t>e.low&&n<e.high2&&n>e.low2)}function r(e){return e&&e.low&&e.high&&e.low2&&e.high2?e.low.toString()+e.high.toString()+e.low2.toString()+e.high2.toString():""}function o(e){return"x1"in e&&"x2"in e}function i(e){return!!e&&("string"==typeof e?e.length>0:o(e)?!!(e.low&&e.high&&e.low2&&e.high2):!(!e.low||!e.high))}Object.defineProperty(t,"__esModule",{value:!0}),t.lightBlue="rgba(0, 64, 255, 0.2)",t.darkBlue="rgba(0, 64, 255, 1)",t.lightGray="rgba(169, 169, 169, 0.4)",t.darkGray="rgba(169, 169, 169, 1)",t.LayoutInfo={timeLine:{width:600,height:80},delays:{width:300,height:300,marginTop:1},carrier:{width:300,height:162,marginTop:1,verticalOrientation:!0},state:{width:520,height:150,marginLeft:1,verticalOrientation:!1},day:{width:520,height:150,marginLeft:1,verticalOrientation:!1}},t.DefaultChartProps={baseFill:t.lightBlue,selectFill:t.darkBlue,height:150,marginBottom:40,marginLeft:40,marginRight:40,marginTop:25,width:220,annotations:!0,verticalOrientation:!0,debug:!1},t.rectContains=a,t.rectToString=r,t.hasBrushSelection=i},function(e,t){e.exports=d3},function(e,t,n){"use strict";function a(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),200===t.status?t.responseText:""}function r(e){return new Promise(function(t,n){var a=new XMLHttpRequest;a.open("GET",e,!0),a.onload=function(){return t(a.responseText)},a.onerror=function(){return n(a.statusText)},a.send()})}function o(e){return e===s.None?0:e===s.Low?500+500*Math.random():1e3+2e3*Math.random()}function i(e){if(!e)return!0;for(var n=0;n<t.AllCharts.length;n++)if(e.indexOf(t.AllCharts[n])<0)return!0;return!1}Object.defineProperty(t,"__esModule",{value:!0}),t.ScatterChartsBrushs=["arrDelay","depDelay"],t.AllCharts=["carrier","day","state","delays"];!function(e){e[e.HappyOrNot=0]="HappyOrNot",e[e.Clip=1]="Clip",e[e.Focus=2]="Focus",e[e.Blur=3]="Blur"}(t.EventType||(t.EventType={}));!function(e){e[e.Fixed=0]="Fixed",e[e.Variable=1]="Variable"}(t.ScaleOption||(t.ScaleOption={}));var s;!function(e){e[e.None=0]="None",e[e.Low=1]="Low",e[e.High=2]="High"}(s=t.LatencyOption||(t.LatencyOption={}));!function(e){e[e.SmallMultiples=0]="SmallMultiples",e[e.Scrubber=1]="Scrubber",e[e.FilmStrip=2]="FilmStrip"}(t.HistoryDisplayOption||(t.HistoryDisplayOption={})),t.readFileSync=a,t.readFileAsync=r,t.getLatency=o,t.isLoading=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e){e[e.Happy=0]="Happy",e[e.Angry=1]="Angry",e[e.Confused=2]="Confused"}(t.FeedbackType||(t.FeedbackType={}));!function(e){e[e.Description=0]="Description",e[e.Answering=1]="Answering",e[e.Submitted=2]="Submitted"}(t.TaskStep||(t.TaskStep={}));!function(e){e[e.ReadValue=0]="ReadValue",e[e.CompareValue=1]="CompareValue",e[e.PatternSearch=2]="PatternSearch",e[e.Trend=3]="Trend",e[e.Recall=4]="Recall"}(t.TaskTypes||(t.TaskTypes={}))},function(e,t,n){"use strict";function a(e){var t,n,a=decodeURIComponent(window.location.search.substring(1)),r=a.split("&");for(n=0;n<r.length;n++)if(t=r[n].split("="),t[0]===e)return void 0===t[1]?null:t[1];return null}function r(e,n){return console.log("setting up experiment for",e,n),function(){function r(){}function o(e){var n=a("turkSubmitTo");t.DEBUG||"sandbox"===n?alert("finished all tasks"):e.submit()}function i(){}function s(){}var l=new Array(n).fill(0).map(function(e){return function(){return i}});return{name:"test_experiment",task:"test_task",researcher:"jigsaw",numTasks:e,params:{params:[{name:"p",type:"UniformChoice",options:[0]}]},clearTask:r,finish:o,trainingTasks:l,viewTask:s}}}Object.defineProperty(t,"__esModule",{value:!0}),t.BonusReward=1,t.TaskReward=.1,t.DEBUG=!0;!function(e){e[e.Introduction=0]="Introduction",e[e.Demographics=1]="Demographics",e[e.TrainingIntro=2]="TrainingIntro",e[e.Tutorial=3]="Tutorial",e[e.Training=4]="Training",e[e.TasksIntro=5]="TasksIntro",e[e.Tasks=6]="Tasks",e[e.FlowSurvey=7]="FlowSurvey",e[e.ToolSurvey=8]="ToolSurvey",e[e.End=9]="End"}(t.ExperimentStep||(t.ExperimentStep={})),t.getUrlParameter=a,t.setupExperimentForGpaas=r},function(e,t,n){"use strict";function a(){o.render(r.createElement(i.PageContainer,null),document.getElementById("wrapper"))}Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(12),i=n(13);t.loadPage=a},function(e,t,n){"use strict";var a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(18),i=n(24),s=n(25),l=n(26),c=n(1),u=n(4),h=n(2),p=function(e){function t(t){var n=e.call(this,t)||this;return n.handleKeyDown=n.handleKeyDown.bind(n),n.toggleClip=n.toggleClip.bind(n),n.loadingSummary=n.loadingSummary.bind(n),n.focusItx=n.focusItx.bind(n),n.setControl=n.setControl.bind(n),n.state={control:!0,stateKey:"training",clipped:!0,focusItx:null,itxIdsInfo:null},c.diel.BindFreeze(n.setControl),n}return a(t,e),t.prototype.setControl=function(e){this.setState({control:e})},t.prototype.focusItx=function(e){this.setState({focusItx:e.itxId})},t.prototype.loadingSummary=function(e){this.setState({itxIdsInfo:e})},t.prototype.componentWillMount=function(){document.addEventListener("keydown",this.handleKeyDown)},t.prototype.componentWillUnmount=function(){document.removeEventListener("keydown",this.handleKeyDown)},t.prototype.componentDidMount=function(){c.diel.BindOutput("loadingSummary",this.loadingSummary),c.diel.BindOutput("focusItx",this.focusItx,{singleRow:!0}),console.log("React all setup, calling tick"),c.diel.tick()()},t.prototype.handleKeyDown=function(e){38===e.keyCode||37===e.keyCode?c.diel.Input.deltaItx({$val:-1}):40!==e.keyCode&&39!==e.keyCode||c.diel.Input.deltaItx({$val:1})},t.prototype.toggleClip=function(){this.setState(function(e){var t=!e.clipped;return c.diel.LogData.eventLog({$eventName:u.EventType[u.EventType.Clip],$parameter:t}),{clipped:t}})},t.prototype.render=function(){var e=this,t=this.props.showIntro,n=this.state,a=n.focusItx,u=n.itxIdsInfo,p=n.clipped,d=n.control,f=r.createElement(i.default,{ref:function(t){return e.delaysChart=t},clipped:p,chart:"delays",xLabel:"arrival delay",yLabel:"departure delay",key:"delays"}),m=r.createElement(o.default,{ref:function(t){return e.stateChart=t},clipped:p,xLabel:"state",yLabel:"count",chart:"state",isCategorical:!0}),y=r.createElement(o.default,{ref:function(t){return e.carrierChart=t},clipped:p,xLabel:"carrier",yLabel:"count",chart:"carrier",isCategorical:!0}),g=r.createElement(o.default,{ref:function(t){return e.dayChart=t},clipped:p,xLabel:"day",yLabel:"count",chart:"day",isCategorical:!1}),v=r.createElement(l.ChronicleSlider,{itxIdsInfo:u,focusItx:a}),w=new Map;t&&(w.set("sum","This is the visualization dashboard of flights data."),w.set("clickState","For instance, this chart shows the distribution of states that fly\n        to HI by counting the number of flights.\n        You can click on a bar to filter other charts.\n        Go ahead and click on the first bar (CA), then click next to continue the tutorial.\n       "),w.set("dayBar"," After some delay, you will see other charts update. They will now contain\n        all the data filtered by flights from California.  In this chart, you are now seeing the number of flights per day in the first half of December.  You will notice that the original chart,\n        without any selections, remains in the background, now grayed out.\n        The delay will not always take the same amount of time for every chart.\n        Some interactions that you have performed in the past may respond without delay"),w.set("heatmap","This is a heatmap that compares arrival and departure delays for the days, states, and/or carriers that you have selected.\n        The darker the blue, the higher the density.\n        You can hover over a region of the heat map and the exact count will pop up next tothe mouse.\n        For instance, you will notice that the left-bottom most region has a count of over a thousand and the light regions to have just one.\n        So here, we observe that most of the flights are not delayed, with a large  cluster of purple color near the origin --- the closer to the origin,\n        the less the delay."),w.set("carrierBar","Lastly, this chart shows the flight distribution among different carriers.\n        As you might have noticed."),w.set("reset","There is a reset button below all of the charts. You can click on it\n        to remove any filters, and it will also show you what is selected"),w.set("chronicles",'In addition to allowing you to interact with the charts, the interface also\n        records your interactions, and you can navigate to your previous interactions by\n        pressing the up or left arrow keys, or clicking directly on the "block", each of which represents\n        an interaction that you have made in the past.\n        "N" signifies the most recent block representing your interaction.\n        <br>\n        When the dot is flashing, it means that the data is still loading in at least one of the charts.\n        0 means the initial interface, and the rightmost means the most recent'),w.set("historyButton","This button help you clear the history. You will lose the views you have created with your interactions so far."),w.set("unclipButton",'This button "zoom" the charts from the base views---the base views can often have much higher values than their filtered counterpart, and as a result, sometimes it might be hard to read the value of the charts.\n        If this is the case, you can click on this button to skip seeing the base data and zoom into the filtered data.\n        If you change your mind at any time, click on this button again to toggle back.'),w.set("feedback","If at any time you feel happy, annoyed, or confused about the task,\n        feel free to click the corresponding emoji to let us know."));var b=["sum","clickState","dayBar","heatmap","carrierBar","chronicles","feedback"];return r.createElement("div",{key:this.state.stateKey,className:"vis-portal "+(d?"":"dimmed")},r.createElement("div",{"data-step":t?b.indexOf("feedback")+1:null,"data-intro":t?w.get("feedback"):null},r.createElement(s.default,null)),r.createElement("div",{className:"controls","data-step":t?b.indexOf("feedback")+1:null,"data-intro":t?w.get("feedback"):null},r.createElement("button",{className:"general-btn",onClick:this.toggleClip,"data-step":t?b.indexOf("unclipButton")+1:null,"data-intro":t?w.get("unclipButton"):null},this.state.clipped?"":"un","zoom"),r.createElement("button",{className:"general-btn",onClick:c.diel.Input.deleteItx,"data-step":t?b.indexOf("historyButton")+1:null,"data-intro":t?w.get("historyButton"):null},"clear history")),r.createElement("div",{className:"all-carts","data-step":t?b.indexOf("sum")+1:null,"data-intro":t?w.get("sum"):null},r.createElement("div",{className:"chart-layout-wrapper","data-step":t?b.indexOf("clickState")+1:null,"data-intro":t?w.get("clickState"):null},m),r.createElement("div",{className:"chart-layout-wrapper","data-step":t?b.indexOf("dayBar")+1:null,"data-intro":t?w.get("dayBar"):null},g),r.createElement("div",{className:"chart-layout-wrapper",style:{width:h.LayoutInfo.delays.width}},r.createElement("div",{className:"chart-layout-wrapper","data-step":t?b.indexOf("heatmap")+1:null,"data-intro":t?w.get("heatmap"):null},f),r.createElement("div",{className:"chart-layout-wrapper"},y)),r.createElement("div",{style:{clear:"both"}})),r.createElement("div",{"data-step":t?b.indexOf("chronicles")+1:null,"data-intro":t?w.get("chronicles"):null},v))},t.defaultProps={width:800,height:100,isTraining:!1},t}(r.Component);t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),r=n(1);t.ResetButton=function(e){return e.selection&&e.selection.length>0?a.createElement("div",{style:{height:30,width:e.width,overflow:"hidden"}},a.createElement("button",{style:{marginBottom:10},onClick:function(){return r.diel.Input.xBrushItx({$chart:e.chart})}},"reset")):a.createElement("div",{style:{height:30,width:e.width}})}},function(e,t,n){"use strict";var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(r,o){function i(e){try{l(a.next(e))}catch(e){o(e)}}function s(e){try{l(a.throw(e))}catch(e){o(e)}}function l(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(i,s)}l((a=a.apply(e,t||[])).next())})},r=this&&this.__generator||function(e,t){function n(e){return function(t){return a([e,t])}}function a(n){if(r)throw new TypeError("Generator is already executing.");for(;l;)try{if(r=1,o&&(i=2&n[0]?o.return:n[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,n[1])).done)return i;switch(o=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return l.label++,{value:n[1],done:!1};case 5:l.label++,o=n[1],n=[0];continue;case 7:n=l.ops.pop(),l.trys.pop();continue;default:if(i=l.trys,!(i=i.length>0&&i[i.length-1])&&(6===n[0]||2===n[0])){l=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){l.label=n[1];break}if(6===n[0]&&l.label<i[1]){l.label=i[1],i=n;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(n);break}i[2]&&l.ops.pop(),l.trys.pop();continue}n=t.call(e,l)}catch(e){n=[6,e],o=0}finally{r=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var r,o,i,s,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(t,"__esModule",{value:!0});var o=n(19),i=n(20),s=n(7),l=n(1),c=n(21),u=["day","carrier","delays","state"],h={training:{main:"./dist/main_training.db",worker:"./dist/worker_training.db"},task:{main:"./dist/main_task.db",worker:"./dist/worker_task.db"}},p={singleRow:!1,notNull:!1},d=function(){function e(){var e=this;this.LoadAll=function(t,n,o){return a(e,void 0,void 0,function(){var e=this;return r(this,function(a){switch(a.label){case 0:return console.log("diel Load"),[4,this.loadMain(t)];case 1:return a.sent(),[4,this.loadWorker(n)];case 2:return a.sent(),c.setUpWorker(this.worker),this.setup(),this.boundFns.length>0&&this.boundFns.map(function(t){t.s=e.output.get(t.view)}),this.deadRequests=[],this.activeRequests=[],o&&s.loadPage(),[2]}})})},this.loadMain=function(t){return a(e,void 0,void 0,function(){var e,n;return r(this,function(a){switch(a.label){case 0:return this.db&&this.db.close(),[4,fetch(t)];case 1:return e=a.sent(),[4,e.arrayBuffer()];case 2:return n=a.sent(),this.buffer=new Uint8Array(n),this.db=new o.Database(this.buffer),[2]}})})},this.loadWorker=function(t){return a(e,void 0,void 0,function(){var e,n,a;return r(this,function(r){switch(r.label){case 0:return[4,fetch(t)];case 1:return e=r.sent(),[4,e.arrayBuffer()];case 2:return n=r.sent(),a=new Uint8Array(n),this.worker.postMessage({id:"opened",action:"open",buffer:a}),this.workerLoaded=!0,[2]}})})},console.log("Diel initializing for training"),this.LoadAll(h.training.main,h.training.worker,!0),this.worker=new Worker("./dist/worker.sql.js"),this.boundFns=[],this.workerLoaded=!1,this.activeRequests=[]}return e.prototype.BindOutput=function(e,t,n){if(void 0===n&&(n={}),!this.output.has(e))throw new Error("output not defined "+e+" "+Array.from(this.output.keys()).join(", "));var a=Object.assign({},p,n);this.boundFns.push({view:e,s:this.output.get(e),f:t,c:a})},e.prototype.GetLogs=function(e){var t=this.logs.get(e);t.bind({});for(var n=[];t.step();)n.push(t.getAsObject());return n},e.prototype.GetStaticView=function(e){var t=this.staticViews.get(e);t.bind({});for(var n=[];t.step();)n.push(t.getAsObject());if(0===n.length)throw new Error("Static view "+e+" should not be empty");return n},e.prototype.SetFreeze=function(e){this.frozen=e,this.frozenBind(!e)},e.prototype.BindFreeze=function(e){this.frozenBind=e},e.prototype.ClearHistory=function(){var e=this;this.deadRequests=this.deadRequests.concat(this.activeRequests).filter(function(e){return e.ts>Date.now()-1e4}),["itxId_SP","brushState_SP","brushDep_SP","dataParamHashes_SP","stateChartData","dayChartData","carrierChartData","delaysChartData","chartDataAtomic","xBrushItx"].map(function(t){console.log("delteing",t),e.db.run("delete from "+t+" where itxId > 4")}),["eventLog","memoryTask","taskTimes","answers","eqChart_SP","navigateItx","deltaItx","deleteItx"].map(function(t){return e.db.run("delete from "+t)}),this.tick()()},e.prototype.processInput=function(e,t){if(!this.frozen){var n=Object.assign({$ts:l.timeNow()},t);e.run(n)}},e.prototype.setup=function(){var t=this,n=this.db;n.run("PRAGMA foreign_keys = ON;"),n.create_function("tick",this.tick()),n.create_function("workerGetChartDataView",this.workerGetChartDataView()),n.create_function("workerShareItx",this.workerShareItx()),n.create_function("timeNow",l.timeNow),n.create_function("log",l.log),n.create_function("hashCompare",l.hashCompare),this.input={xBrushItx:n.prepare("\n        insert into xBrushItx (ts, chart, low, high, low2, high2, selection)\n        values ($ts, $chart, $low, $high, $low2, $high2, $selection)"),navigateItx:n.prepare("\n        insert into navigateItx (ts, xFilterItxId)\n        values ($ts, $xFilterItxId)"),deltaItx:n.prepare("\n        insert into deltaItx (ts, val)\n        values ($ts, $val)"),deleteItx:n.prepare("\n        insert into deleteItx (ts)\n        values ($ts)")},this.Input={xBrushItx:function(e){if(e.$low&&(isNaN(e.$high)||isNaN(e.$low)))throw new Error("number has to be defined");t.processInput(t.input.xBrushItx,e)},navigateItx:function(e){t.processInput(t.input.navigateItx,e)},deltaItx:function(e){t.processInput(t.input.deltaItx,e)},deleteItx:function(){t.input.deleteItx.run({$ts:l.timeNow()})}},this.logData={eventLog:n.prepare("\n        insert into eventLog (ts, eventName, parameter)\n        values ($ts, $eventName, $parameter);\n      "),taskInfo:n.prepare("\n        insert into taskInfo (qId, taskType, isTraining)\n        values ($qId, $taskType, $isTraining);\n      "),taskTimes:n.prepare("\n        insert into taskTimes (ts, qId, eventType)\n        values ($ts, $qId, $eventType);\n      "),answers:n.prepare("\n        insert into answers (qId, answer, score)\n        values ($qId, $answer, $score);\n      "),memoryTask:n.prepare("\n        insert into memoryTask (qId, linkedQId)\n        values ($qId, $linkedQId);\n      ")},this.LogData={eventLog:function(e){var n=Object.assign({$ts:l.timeNow()},e);t.logData.eventLog.run(n)},taskInfo:function(e){t.logData.taskInfo.run(e)},taskTimes:function(e){var n=Object.assign({$ts:l.timeNow()},e);t.logData.taskTimes.run(n)},answers:function(e){t.logData.taskInfo.run(e)},memoryTask:function(e){t.logData.memoryTask.run(e)}},this.output=new Map,["ChartSelection","ChartIsLoading","ChartDataView"].map(function(e){u.map(function(a){var r=""+a+e;t.output.set(r,n.prepare("select * from "+r))})}),this.logs=new Map,e.LogsViews.map(function(e){return t.logs.set(e,n.prepare("select * from "+e))}),["loadingSummary","focusItx"].map(function(e){return t.output.set(e,n.prepare("select * from "+e))}),this.staticViews=new Map,u.map(function(e){var a=e+"ChartInitData";t.staticViews.set(a,n.prepare("select * from "+a))})},e.prototype.tick=function(){var e=this.boundFns,t=this.runOutput;return function(){e.map(function(e){t(e)})}},e.prototype.Sanity=function(){},e.prototype.IsDuringTask=function(){console.log(l.d("select * from taskTimes"));var e=this.db.exec("select count(*) from taskTimes");return{firstTime:1===e[0].values[0][0],duringTask:e[0].values[0][0]%2==1}},e.prototype.exec=function(e){return this.db.exec(e)},e.prototype.workerShareItx=function(){var e=this.worker;return function(){var t=i.generateSQLForTableCopy("currentItx","SELECT * FROM currentItx");e.postMessage({id:"updateCurrentItx",action:"exec",sql:t})}},e.prototype.workerGetChartDataView=function(){var e=this,t=this.worker;return function(n,a){var r=l.timeNow()+"-"+n+"="+a;e.activeRequests.push({id:r,ts:Date.now()}),t.postMessage({id:"share:"+n+":"+a+":"+r,action:"exec",sql:"SELECT * FROM "+a+"ChartDataView;"})}},e.prototype.runOutput=function(e){var t=e.s,n=e.f,a=e.c;t.bind({});for(var r=[];t.step();)r.push(t.getAsObject());if(a.notNull&&0===r.length)throw new Error(e.view+" should not be null");n(r.length>0&&a.singleRow?r[0]:r)},e.prototype.ChangeToTask=function(){this.LoadAll(h.task.main,h.task.worker,!1)},e.prototype.downloadDB=function(){var e=this.db.export(),t=new Blob([e]);l.downloadHelper(t,"session")},e.prototype.downloadWorkerDB=function(){this.worker.postMessage({id:"download",action:"export"})},e.LogsViews=["itxId_SP","brushState_SP","brushDep_SP","eventLog","eventLog","taskInfo","memoryTask","taskTimes","answers","xBrushItx","navigateItx","deltaItx","deleteItx"],e}();t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(5),r=["American","Alaska","JetBlue","Delta","Hawaiian","Spirit","United","Virgin","Southwest"],o=r.map(function(e){return{text:e,value:"United"===e?1:0}}),i=new Array(7).fill(0).map(function(e,t){return{text:t+5+"th",value:t+5===9?1:0}});t.trainingQA=[{qId:"popAirline_training",question:"Which airline do people from CA fly the most?",type:a.TaskTypes.CompareValue,choices:o},{qId:"delaySearch_training",question:"We found that on the day of the 4th, a Monday, delays tends to be higher\n      (almost twice the average delay average).\n      Could you identify another day in that week that also has higher delays?",type:a.TaskTypes.PatternSearch,choices:i},{qId:"delaySearch_training_mem",question:"Did you notice any delays that had extra low delays? (note that you cannot interact with the visualization)",type:a.TaskTypes.Recall,linkedQId:"delaySearch_training",note:'The task you just completed is a "memory tasks"---we are curious if you remember any of the\n          inermediate results you see on the page',choices:[{text:"None",value:0},{text:"Not sure",value:0},{text:"5th or 6th",value:0},{text:"7th or 8th",value:1},{text:"9th or 10th",value:0}]},{qId:"singleAirline",question:"For the first half most frequent states, is there any state that just flies with one airline? (beofre TT)",type:a.TaskTypes.PatternSearch,choices:[{text:"AK",value:1},{text:"AZ",value:0},{text:"CA",value:0},{text:"CO",value:1},{text:"NV",value:1},{text:"OR",value:0},{text:"TX",value:0},{text:"WA",value:0}]}];var s=["Hawaiian","Delta"],l=r.map(function(e){return{text:e,value:s.indexOf(e)>-1?1:0}}),c=["Alaska","Virgin"],u=r.map(function(e){return{text:e,value:c.indexOf(e)>-1?1:0}});u.push({text:"none",value:0});var h=["CA","WA","AZ","TX","OR","CO","NV","AK","IL","NY","UT","TT","GA","NJ","MN","VA"],p=["CO","IL","NY","UT"],d=h.map(function(e){return{text:e,value:p.indexOf(e)>-1?1:0}});t.taskQA=[{qId:"holidayStrat_task",question:"There are a few states with noticeable increase of lights for the Holiday, find one (there maybe be more than one, but one is enough)",type:a.TaskTypes.PatternSearch,choices:d},{qId:"delayTrendHoliday_task",question:"Is the delay longer or shorter around Christmas (23rd, 24th, 25th)?",type:a.TaskTypes.CompareValue,choices:[{text:"No change",value:0},{text:"All longer delays",value:0},{text:"All shorter delays",value:0},{text:"Some shorter delays",value:0},{text:"Some longer delays",value:1}]},{qId:"carrierSearch_task",question:"Was there a carrier that does worse than usual around Christmas? (24th or 25th)?",type:a.TaskTypes.PatternSearch,choices:l},{qId:"carrierSearch_task_mem",question:"Did you notice any carriers that have consistently low (always below an hour) delays?",type:a.TaskTypes.Recall,linkedQId:"delayTrendHoliday_task",choices:u}]},function(e,t){e.exports=ReactDOM},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),r=n(14);t.PageContainer=function(){return a.createElement(a.Fragment,null,a.createElement(r.default,null))}},function(e,t,n){"use strict";var a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(15),i=n(16),s=n(17),l=n(28),c=n(29),u=n(30),h=n(31),p=n(6),d=n(33),f=n(1),m=n(11),y=n(10),g=n(4),v=function(e){function t(t){var n=e.call(this,t)||this;n.start=n.start.bind(n),n.submitDemographic=n.submitDemographic.bind(n),n.startTutorial=n.startTutorial.bind(n),n.startTraining=n.startTraining.bind(n),n.finishTraining=n.finishTraining.bind(n),n.startTasks=n.startTasks.bind(n),n.finishTasks=n.finishTasks.bind(n),n.finishOneTask=n.finishOneTask.bind(n),n.finishFlowSurvey=n.finishFlowSurvey.bind(n),n.finishToolSurvey=n.finishToolSurvey.bind(n);var a=p.getUrlParameter("assignmentId");return n.state={step:p.ExperimentStep.Introduction,assignmentId:a,focusWarning:!1,focusWarningShown:null},n}return a(t,e),t.prototype.componentDidMount=function(){var e=this;window.addEventListener("focus",function(){e.setState({focusWarning:!1}),f.diel.LogData.eventLog({$eventName:g.EventType[g.EventType.Focus]})}),window.addEventListener("blur",function(){var t=f.diel.IsDuringTask();t.firstTime&&(null===e.state.focusWarningShown||e.state.focusWarningShown<Date.now()-1e4)?(e.setState({focusWarningShown:Date.now()}),alert("Please try not to leave during your next task!")):t.duringTask&&e.setState({focusWarning:!0}),f.diel.LogData.eventLog({$eventName:g.EventType[g.EventType.Blur]})})},t.prototype.start=function(){gpaas.startExperiment(p.setupExperimentForGpaas(m.trainingQA.length,m.taskQA.length)).setupSuccessful?(console.log("experiment started succesfully"),this.setState({step:p.ExperimentStep.Demographics})):console.log("failed to start experiment")},t.prototype.submitDemographic=function(e){e=Object.assign({},e),e.type=p.ExperimentStep[p.ExperimentStep.Demographics],console.log(e),gpaas.logData(e),this.setState({step:p.ExperimentStep.TrainingIntro})},t.prototype.startTutorial=function(){this.setState({step:p.ExperimentStep.Tutorial})},t.prototype.startTraining=function(){f.diel.ClearHistory(),this.setState({step:p.ExperimentStep.Training})},t.prototype.finishTraining=function(){f.diel.ChangeToTask(),this.setState({step:p.ExperimentStep.TasksIntro})},t.prototype.startTasks=function(){this.setState({step:p.ExperimentStep.Tasks})},t.prototype.finishOneTask=function(e){y.default.LogsViews.map(function(e){gpaas.log({type:"table",name:e,value:f.diel.GetLogs(e)})}),e?gpaas.nextTraining():gpaas.nextTask(),f.diel.ClearHistory()},t.prototype.finishTasks=function(){gpaas.logData(),this.setState({step:p.ExperimentStep.FlowSurvey})},t.prototype.finishFlowSurvey=function(e){e=Object.assign({},e),e.type=p.ExperimentStep[p.ExperimentStep.FlowSurvey],console.log(e),this.setState({step:p.ExperimentStep.ToolSurvey})},t.prototype.finishToolSurvey=function(e){e=Object.assign({},e),e.type=p.ExperimentStep[p.ExperimentStep.ToolSurvey],console.log(e),this.setState({step:p.ExperimentStep.End})},t.prototype.cancelTasks=function(){gpaas.cancelTasks(),console.log("experiment cancelled")},t.prototype.render=function(){var e,t=this.state,n=t.step,a=t.assignmentId;if(n===p.ExperimentStep.Introduction)e=r.createElement(u.default,{onClick:this.start,disabled:"ASSIGNMENT_ID_NOT_AVAILABLE"===a});else if(n===p.ExperimentStep.Demographics)e=r.createElement(i.default,{onClick:this.submitDemographic});else if(n===p.ExperimentStep.TrainingIntro)e=r.createElement(l.TrainingIntro,{onClick:this.startTutorial});else if(n===p.ExperimentStep.Tutorial)e=r.createElement(h.default,{onClick:this.startTraining});else if(n===p.ExperimentStep.Training)e=r.createElement(s.default,{isTraining:!0,cancel:this.cancelTasks,finish:this.finishTraining});else if(n===p.ExperimentStep.TasksIntro)e=r.createElement(c.TaskIntro,{onClick:this.startTasks});else if(n===p.ExperimentStep.Tasks)e=r.createElement(s.default,{isTraining:!1,cancel:this.cancelTasks,finish:this.finishTasks});else if(n===p.ExperimentStep.FlowSurvey)e=r.createElement(o.default,{onClick:this.finishFlowSurvey,surveyQuestions:d.FlowSurveyQuestions,surveySequence:d.FlowSurveySequence,freeformPrompt:"Feel free to comment on your experience completing the tasks here."});else if(n===p.ExperimentStep.ToolSurvey)e=r.createElement(o.default,{onClick:this.finishToolSurvey,surveyQuestions:d.UsabilitySurveyQuestions,surveySequence:d.UsabilitySurveySequence,freeformPrompt:"Feel free to comment on the tools or the effect of latency here."});else{if(n!==p.ExperimentStep.End)throw new Error("step not handled: "+p.ExperimentStep[n]);e=r.createElement("h2",null,"Thank you! All complete. You may close and leave the page now.")}return r.createElement(r.Fragment,null,this.state.focusWarning?r.createElement("p",{className:"warning"},"Please stay on the page during your task"):null,e)},t}(r.Component);t.default=v},function(e,t,n){"use strict";function a(e,t,n,a,r){var i=e.get(n),s=a[n],l=new Array(5).fill(0).map(function(e,t){return o.createElement("td",{style:{align:"right"}},o.createElement("input",{required:0===t,type:"radio",style:{align:"left"},name:n,value:t+1,checked:s===""+(t+1),onChange:r}))});return o.createElement(o.Fragment,null,o.createElement("tr",null,o.createElement("td",{style:{width:500}},t,". ",i),l))}var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=function(e){function t(t){var n=e.call(this,t)||this;return n.onChange=n.onChange.bind(n),n.onClick=n.onClick.bind(n),n.state={warn:"false"},n}return r(t,e),t.prototype.onChange=function(e){var t;this.setState((t={},t[e.target.name]=e.target.value,t))},t.prototype.onClick=function(){Object.keys(this.state).filter(function(e){return"comments"!==e}).length<this.props.surveyQuestions.size?this.setState({warn:"true"}):this.props.onClick(this.state)},t.prototype.render=function(){var e=this,t=this.props,n=t.surveyQuestions,r=t.surveySequence,i=t.freeformPrompt,s=r.map(function(t,r){return a(n,r,t,e.state,e.onChange)});return o.createElement("div",null,"true"===this.state.warn?o.createElement("p",{className:"warning"},"Please answer all of the multiple choice questions."):null,o.createElement("table",{style:{width:800,borderBottom:"solid"}},o.createElement("tr",null,o.createElement("th",{style:{width:500}},"Question"),o.createElement("th",{style:{align:"left",width:100}},"Not at all"),o.createElement("th",{style:{align:"left",width:100}},"Partly"),o.createElement("th",{style:{align:"left",width:100}},"Very much"))),o.createElement("table",{style:{width:800}},s),o.createElement("hr",null),o.createElement("div",{className:"question-wrapper",style:{width:800}},o.createElement("label",{htmlFor:"comments"},"Optional feedback: ",i),o.createElement("br",null),o.createElement("textarea",{rows:5,cols:50,id:"comments",name:"comments",onChange:this.onChange})),o.createElement("button",{className:"general-btn exp-nav-btn",onClick:this.onClick},"Submit Survey and Continue"))},t}(o.Component);t.default=i},function(e,t,n){"use strict";var a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=function(e){function t(t){var n=e.call(this,t)||this;return n.onChange=n.onChange.bind(n),n.onClick=n.onClick.bind(n),n.state={age:"",computer:void 0,education:"N",gender:"N",occupation:"",viz:void 0},n}return a(t,e),t.prototype.onChange=function(e){var t;this.setState((t={},t[e.target.name]=e.target.value,t))},t.prototype.onClick=function(){this.props.onClick(this.state)},t.prototype.render=function(){var e=this.state,t=e.age,n=e.computer,a=e.education,o=e.gender,i=e.occupation,s=e.viz;return r.createElement("div",null,r.createElement("h3",null,"Demographic Survey"),r.createElement("p",null,'Thank you for participating in our research study. Before proceeding, we ask you to fill out this brief survey to help us better understand the background of our participants. Completion of this survey is optional, and you may proceed at any time by clicking the "Continue" button below. Your individual response to this survey will not be reported, but rather anonymized and aggregated together with the rest of the participant population.'),r.createElement("div",{className:"question-wrapper"},r.createElement("label",{htmlFor:"age"},r.createElement("strong",null,"1.")," Your Age:"),r.createElement("input",{type:"text",id:"age",name:"age",value:t,onChange:this.onChange})),r.createElement("div",{className:"question-wrapper"},r.createElement("label",{htmlFor:"gender"},r.createElement("strong",null,"2.")," Your Gender:"),r.createElement("select",{id:"gender",name:"gender",value:o,onChange:this.onChange},r.createElement("option",{value:"N"},"Decline to state"),r.createElement("option",{value:"M"},"Male"),r.createElement("option",{value:"F"},"Female"),r.createElement("option",{value:"O"},"Other"))),r.createElement("div",{className:"question-wrapper"},r.createElement("label",{htmlFor:"education"},r.createElement("strong",null,"3.")," What is the highest educational degree you have earned?:"),r.createElement("select",{id:"education",name:"education",value:a,onChange:this.onChange},r.createElement("option",{value:"N"},"Decline to state"),r.createElement("option",{value:"Middle"},"Middle School Diploma"),r.createElement("option",{value:"High"},"High School Diploma"),r.createElement("option",{value:"Bachelors"},"Bachelor's Degree"),r.createElement("option",{value:"Masters"},"Master's Degree"),r.createElement("option",{value:"Doctorate"},"Doctorate Degree"))),r.createElement("div",{className:"question-wrapper"},r.createElement("label",{htmlFor:"occupation"},r.createElement("strong",null,"4.")," Your Occupation:"),r.createElement("input",{type:"text",id:"occupation",name:"occupation",value:i,onChange:this.onChange})),r.createElement("div",{className:"question-wrapper"},r.createElement("label",{htmlFor:"computer"},r.createElement("strong",null,"5.")," How often do you use a computer on a typical week?:"),r.createElement("div",{className:"radio-button-wrapper"},r.createElement("label",null,r.createElement("input",{type:"radio",name:"computer",value:"1",checked:"1"===n,onChange:this.onChange})," Never"),r.createElement("label",null,r.createElement("input",{type:"radio",name:"computer",value:"2",checked:"2"===n,onChange:this.onChange})," Rarely"),r.createElement("label",null,r.createElement("input",{type:"radio",name:"computer",value:"3",checked:"3"===n,onChange:this.onChange})," Sometimes"),r.createElement("label",null,r.createElement("input",{type:"radio",name:"computer",value:"4",checked:"4"===n,onChange:this.onChange})," Often"),r.createElement("label",null,r.createElement("input",{type:"radio",name:"computer",value:"5",checked:"5"===n,onChange:this.onChange})," Always"))),r.createElement("div",{className:"question-wrapper"},r.createElement("label",{htmlFor:"viz"},r.createElement("strong",null,"6.")," How often do you interact with data visualizations on a typical week? (e.g. tables, charts, graphs):"),r.createElement("div",{className:"radio-button-wrapper"},r.createElement("label",null,r.createElement("input",{type:"radio",name:"viz",value:"1",checked:"1"===s,onChange:this.onChange})," Never"),r.createElement("label",null,r.createElement("input",{type:"radio",name:"viz",value:"2",checked:"2"===s,onChange:this.onChange})," Rarely"),r.createElement("label",null,r.createElement("input",{type:"radio",name:"viz",value:"3",checked:"3"===s,onChange:this.onChange})," Sometimes"),r.createElement("label",null,r.createElement("input",{type:"radio",name:"viz",value:"4",checked:"4"===s,onChange:this.onChange})," Often"),r.createElement("label",null,r.createElement("input",{type:"radio",name:"viz",value:"5",checked:"5"===s,onChange:this.onChange})," Always"))),r.createElement("button",{className:"general-btn exp-nav-btn",onClick:this.onClick},"Continue"))},t}(r.Component);t.default=o},function(e,t,n){"use strict";var a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(8),i=n(27),s=n(11),l=n(1),c=n(6),u=function(e){function t(t){var n=e.call(this,t)||this;return n.setControl=n.setControl.bind(n),n.nextTask=n.nextTask.bind(n),n.state={moneyEarned:0,step:0,control:!0},l.diel.BindFreeze(n.setControl),n}return a(t,e),t.prototype.setControl=function(e){this.setState({control:e})},t.prototype.nextTask=function(){var e=this;l.diel.ClearHistory();var t=this.props.isTraining?s.trainingQA.length:s.taskQA.length;if(this.state.step===t-1)return void this.props.finish();this.setState(function(t){return{step:t.step+1,moneyEarned:e.props.isTraining?0:t.moneyEarned+c.TaskReward}})},t.prototype.render=function(){var e=this.props.isTraining,t=this.state,n=t.step,a=t.moneyEarned,l=r.createElement(o.default,{showIntro:e}),c=r.createElement(i.default,{isTraining:e,question:this.props.isTraining?s.trainingQA[n]:s.taskQA[n],nextTask:this.nextTask}),u=[];return e||(u.push(r.createElement("span",null,"Current reward earned: $",a.toFixed(2))),u.push(r.createElement("button",{onClick:this.props.cancel,disabled:0===n},"Finish and claim current reward"))),r.createElement(r.Fragment,null,l,c)},t}(r.Component);t.default=u},function(e,t,n){"use strict";var a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(3),i=n(9),s=n(1),l=n(2),c=n(22),u=n(23),h=function(e){function t(t){var n=e.call(this,t)||this;return n.refreshSelection=n.refreshSelection.bind(n),n.refreshData=n.refreshData.bind(n),n.refreshIsLoading=n.refreshIsLoading.bind(n),n.state={baseData:s.diel.GetStaticView(t.chart+"ChartInitData"),isLoading:{status:1}},n}return a(t,e),t.prototype.refreshSelection=function(e){this.setState({selection:e})},t.prototype.refreshData=function(e){this.setState({data:e})},t.prototype.refreshIsLoading=function(e){this.setState({isLoading:e})},t.prototype.componentDidMount=function(){var e=this.props.chart;s.diel.BindOutput(e+"ChartDataView",this.refreshData),s.diel.BindOutput(e+"ChartSelection",this.refreshSelection,{singleRow:!0}),s.diel.BindOutput(e+"ChartIsLoading",this.refreshIsLoading,{singleRow:!0})},t.prototype.render=function(){var e=this.props,t=e.chart,n=e.marginRight,a=e.marginBottom,s=e.xLabel,h=e.isCategorical,p=e.clipped;if(!this.state||!this.state.baseData||0===this.state.baseData.length)throw new Error("Data for chart "+t+" should be here already");var d,f,m=l.LayoutInfo[t].marginTop?l.LayoutInfo[t].marginTop:this.props.marginTop,y=l.LayoutInfo[t].marginLeft?l.LayoutInfo[t].marginLeft:this.props.marginLeft,g=l.LayoutInfo[t],v=g.width,w=g.height,b=g.verticalOrientation,k=this.state,x=k.baseData,E=k.selection,S=k.data,T=k.isLoading,C=v-y-n,I=w-m-a;f=h?u.CategoricalChartHelper({baseData:x,data:S,selection:E,chart:t,chartWidth:C,chartHeight:I,clipped:p}):c.linearChartHelper({baseData:x,data:S,selection:E,chart:t,chartWidth:C,chartHeight:I,clipped:p});var _,O=o.brushX().extent([[0,0],[C,I]]).on("start",function(){}).on("end",function(){if(o.event.sourceEvent&&o.event.selection){var e=o.brushSelection(this);null!==e&&f.brushFn(Math.min(e[0],e[1]),Math.max(e[0],e[1])),o.select(this).call(O.move,null)}}),N=r.createElement("g",{ref:function(e){return o.select(e).call(O)}}),D=this.props.clipped?5:this.state.data?Math.min(Math.max.apply(Math,this.state.data.map(function(e){return e.y})),5):5,L=o.axisBottom(f.x).ticks(10),P=o.axisLeft(f.y).ticks(D,"d").tickSizeOuter(0),A=b?"":"rotate90x",F=b?"":"rotate90y",q=r.createElement(r.Fragment,null,r.createElement("g",{ref:function(e){o.select(e).call(P)},transform:b?"":"translate("+C+", 0)",className:A}),r.createElement("g",{ref:function(e){o.select(e).call(L)},transform:"translate(0,"+I+")",className:F})),M=r.createElement("g",null,r.createElement("text",{className:"chart-label",x:b?C/2+y:10,y:b?w-5:v/2,transform:b?"":"rotate(-90, 10, "+v/2+")",textAnchor:"middle"}," ",s)),B=f.rectsSpec.map(function(e){return r.createElement("rect",{className:"select-bars",x:e.x,y:e.y,width:e.barWidth,height:I-e.y,fill:e.color,onClick:e.onClick})}),j=v,R=w,$=r.createElement("g",{transform:"translate("+y+", "+m+")"},q,N,B);b?_=$:(j=w,R=v,_=r.createElement("g",{transform:"translate("+j+", 0) rotate(90)"},$)),d=r.createElement("svg",{width:j,height:R,className:"chart-svg"},_,M);var z,H=1===T.status?"indicatorLine":"";if(h)z=this.state.selection?this.state.selection.selection:null,z=z?z.length>10?z.slice(0,10)+"...":z:null;else if(this.state.selection){var W=this.state.selection.low,Q=this.state.selection.high;W&&(z=W===Q?""+W:W+" to "+Q)}return r.createElement("div",{className:"chart-container bar-chart"},r.createElement("div",{style:{height:20,overflow:"hidden"}},r.createElement("p",{className:"chart-filter"},z?"selected "+z+" "+t:" ")),d,r.createElement("div",{style:{height:5},className:H}),r.createElement(i.ResetButton,{width:j,disabled:!f.hasSelection,chart:t,selection:z}))},t.defaultProps=l.DefaultChartProps,t}(r.Component);t.default=h},function(e,t){e.exports=SQL},function(e,t,n){"use strict";function a(e,t){if(!e||!e.values)throw new Error("Query "+t+" has NO result")}function r(e,t){var n=o.diel.exec(t)[0];return a(n,"currentItx"),"\n    DELETE from "+e+";\n    INSERT INTO "+e+" VALUES "+n.values.map(function(e){return"("+e.map(function(e){return null===e?"null":"'"+e+"'"}).join(", ")+")"})+";"}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1);t.assertQueryHasResult=a,t.generateSQLForTableCopy=r},function(e,t,n){"use strict";function a(e){e.onmessage=function(e){o.diel.exec("insert into workerTasks values ('"+e.data.id+"')");var t=e.data.id.split(":");switch(t[0]){case"download":var n=new Blob([e.data.buffer]);o.downloadHelper(n,"workerSession");break;case"share":var a=t[1],s=t[2],l=t[3],c="";if(e.data.results[0]&&e.data.results[0].values.length>0){var u=e.data.results[0].values,h=void 0;h="carrier"===s||"state"===s?function(e){return"("+a+", '"+e[0]+"', "+e[1]+")"}:"delays"===s?function(e){return"("+a+", "+e[0]+", "+e[1]+", "+e[2]+")"}:function(e){return"("+a+", "+e[0]+", "+e[1]+")"},c="INSERT INTO "+s+"ChartData VALUES "+u.map(h)+";"}else console.log("No result for",s,a);c+="\nINSERT INTO chartDataAtomic VALUES ("+a+", '"+s+"');",window.setTimeout(function(){if(o.diel.deadRequests.indexOf(l)>-1)return void console.log("expired",a,s);o.diel.exec(c)},r.getLatency(i));break;case"print":var p=e.data.results;p&&p.length>0&&(p[0].values.map(function(e){e.map(function(e,t){"ts"===p[0].columns[t]&&(e=new Date(e).toDateString())})}),console.log("Printing results"),console.log(p[0].columns.join("\t")),console.log(JSON.stringify(p[0].values).replace(/\],\[/g,"\n").replace("[[","").replace("]]","").replace(/,/g,"\t")))}}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),o=n(1),i=r.LatencyOption.High;t.setUpWorker=a},function(e,t,n){"use strict";function a(e){var t=e.baseData,n=e.selection,a=e.data,s=e.chart,l=e.chartWidth,c=e.chartHeight,u=e.clipped,h=!u&&a&&a.length>0,p=h?r.max(a,function(e){return e.y}):r.max(t,function(e){return e.y}),d=r.scaleLinear().rangeRound([c,0]).domain([0,p]),f=r.extent(t,function(e){return e.x}),m=f[1]-f[0]+1,y=[f[0],f[1]+(f[1]-f[0])/m],g=.6*l/m,v=r.scaleLinear().rangeRound([1,l]).domain(y),w=function(e,t){var n=Math.round(v.invert(e)),a=Math.round(v.invert(t));o.diel.Input.xBrushItx({$low:n,$high:a,$chart:s})},b=function(e){return function(){return o.diel.Input.xBrushItx({$low:e,$high:e,$chart:s})}},k=[];h||t.map(function(e){var t=n&&e.x<=n.high&&e.x>=n.low?i.darkGray:i.lightGray;k.push({x:v(e.x),y:d(e.y),color:t,onClick:b(e.x),barWidth:g})}),a&&a.map(function(e){var t=n&&e.x<=n.high&&e.x>=n.low?i.darkBlue:i.lightBlue;k.push({x:v(e.x),y:d(e.y),color:t,onClick:b(e.x),barWidth:g})});var x=!(!n||!n.low);return{brushFn:w,rectsSpec:k,x:v,y:d,hasSelection:x}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n(1),i=n(2);t.linearChartHelper=a},function(e,t,n){"use strict";function a(e){var t=e.baseData,n=e.selection,a=e.data,s=e.chart,l=e.chartWidth,c=e.chartHeight,u=e.clipped,h=!u&&a&&a.length>0,p=h?r.max(a,function(e){return e.y}):r.max(t,function(e){return e.y}),d=r.scaleLinear().rangeRound([c,0]).domain([0,p]),f=t.map(function(e){return e.x}),m=r.scaleBand().rangeRound([0,l]).padding(.4).domain(f),y=function(e,t){var n=f.filter(function(n){return m(n)&&m(n)<t&&m(n)>e}).join(",");o.diel.Input.xBrushItx({$selection:n,$chart:s})},g=function(e){return function(){return o.diel.Input.xBrushItx({$selection:e,$chart:s})}},v=m.bandwidth(),w=[];t.map(function(e){w.push({x:m(e.x),y:c/2,color:"white",onClick:g(e.x),barWidth:v})}),h||t.map(function(e){var t=n&&n.selection&&n.selection.includes(e.x)?i.darkGray:i.lightGray;w.push({x:m(e.x),y:d(e.y),color:t,onClick:g(e.x),barWidth:v})}),a&&a.map(function(e){var t=n&&n.selection&&n.selection.includes(e.x)?i.darkBlue:i.lightBlue;w.push({x:m(e.x),y:d(e.y),color:t,onClick:g(e.x),barWidth:v})});var b=!(!n||!n.selection);return{brushFn:y,rectsSpec:w,x:m,y:d,hasSelection:b}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n(1),i=n(2);t.CategoricalChartHelper=a},function(e,t,n){"use strict";var a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n(0),i=n(9),s=n(1),l=n(2),c=function(e){function t(t){var n=e.call(this,t)||this;return n.refreshSelection=n.refreshSelection.bind(n),n.refreshData=n.refreshData.bind(n),n.refreshIsLoading=n.refreshIsLoading.bind(n),n.mouseEnter=n.mouseEnter.bind(n),n.mouseExit=n.mouseExit.bind(n),n.state={baseData:s.diel.GetStaticView(t.chart+"ChartInitData"),isLoading:{status:1},hoverInfo:null},n}return a(t,e),t.prototype.refreshSelection=function(e){this.setState({selection:e})},t.prototype.refreshData=function(e){this.setState({data:e})},t.prototype.refreshIsLoading=function(e){this.setState({isLoading:e})},t.prototype.componentDidMount=function(){var e=this.props.chart;s.diel.BindOutput(e+"ChartDataView",this.refreshData),s.diel.BindOutput(e+"ChartSelection",this.refreshSelection,{singleRow:!0}),s.diel.BindOutput(e+"ChartIsLoading",this.refreshIsLoading,{singleRow:!0})},t.prototype.mouseEnter=function(e,t,n){var a=this;return function(){a.setState({hoverInfo:{value:e,xPos:t,yPos:n}})}},t.prototype.mouseExit=function(){this.setState({hoverInfo:null})},t.prototype.render=function(){var e=this,t=this.props,n=t.marginBottom,a=t.marginLeft,c=t.marginRight,u=t.chart,h=t.xLabel,p=t.yLabel,d=t.clipped;if(!this.state||!this.state.baseData||0===this.state.baseData.length)throw new Error("should be here already");var f,m,y=l.LayoutInfo[u],g=y.width,v=y.height,w=this.state,b=w.selection,k=w.data,x=w.isLoading,E=w.baseData,S=l.LayoutInfo[u].marginTop?l.LayoutInfo[u].marginTop:this.props.marginTop,T=g-a-c,C=v-S-n,I=!d&&k&&k.length>0,_=null,O=null,N=this.props.xDomain?this.props.xDomain:[0,I?r.max(k.map(function(e){return e.x}))+40:r.max(E.map(function(e){return e.x}))+40],D=r.interpolateRgb(l.lightBlue,l.darkBlue),L=r.interpolateRgb(l.lightGray,l.darkGray),P=this.props.yDomain?this.props.yDomain:[0,I?r.max(k.map(function(e){return e.y}))+40:r.max(E.map(function(e){return e.y}))+40],A=[r.min(E.map(function(e){return e.v})),r.max(E.map(function(e){return e.v}))],F=r.scaleLinear().domain(N).rangeRound([0,T]),q=Math.abs(F(20)-F(0)),M=r.scaleLinear().domain(P).rangeRound([C,0]),B=Math.abs(M(20)-M(0)),j=r.scaleLog().domain(A).range([0,1]);b&&b.low&&(f=o.createElement("rect",{className:"chart-label",x:F(b.low),y:M(b.high2),width:F(b.high)-F(b.low),height:Math.abs(M(b.high2)-M(b.low2)),fill:"gray","fill-opacity":"0.3"}));var R=r.axisBottom(F).ticks(5,"d"),$=r.axisLeft(M).ticks(10,"d");_=r.brush().extent([[0,0],[T,C]]).on("end",function(){if(r.event.sourceEvent&&r.event.selection){var e=r.brushSelection(this);if(null!==e){var t=Math.min(F.invert(e[0][0]),F.invert(e[1][0])),n=Math.max(F.invert(e[0][0]),F.invert(e[1][0])),a=Math.min(M.invert(e[1][1]),M.invert(e[0][1])),o=Math.max(M.invert(e[1][1]),M.invert(e[0][1]));s.diel.Input.xBrushItx({$low:t,$high:n,$low2:a,$high2:o,$chart:u})}r.select(this).call(_.move,null)}});var z,H=o.createElement("g",{ref:function(e){return r.select(e).call(_)}}),W=I?[]:E.map(function(e){if(isNaN(F(e.x)))throw new Error("x scale must get valid result");var t=F(e.x),n=M(e.y+20);return o.createElement("rect",{key:e.x+"_"+e.y+"_base_heat",fill:L(j(e.v)),fillOpacity:.8,x:t,y:n,width:q,height:B})});k&&(z=k.map(function(t){var n=F(t.x),a=M(t.y+20);return o.createElement("rect",{key:t.x+"_"+t.y+"_filter_heat",fill:D(j(t.v)),className:"hoverable",fillOpacity:.8,x:n,y:a,width:q,height:B,onClick:e.mouseEnter(t.v,n,a)})})),this.state.hoverInfo&&z.push(o.createElement("rect",{key:"clicked_sactter",x:this.state.hoverInfo.xPos,y:this.state.hoverInfo.yPos,width:q,height:B,style:{fill:"none",stroke:"black",strokeWidth:2}}));var Q=o.createElement(o.Fragment,null,o.createElement("g",{ref:function(e){return r.select(e).call(R)},transform:"translate(0, "+C+")"}),o.createElement("g",{ref:function(e){return r.select(e).call($)}}));m=o.createElement("g",null,o.createElement("text",{className:"chart-label",y:v-5,x:T/2+a,textAnchor:"middle"}," ",h),o.createElement("text",{className:"chart-label",x:10,y:v/2,transform:"rotate(-90, 10, "+v/2+")",textAnchor:"middle"}," ",p)),O=o.createElement("svg",{width:g,height:v,className:"chart-svg"},o.createElement("g",{transform:"translate("+a+","+S+")"},Q,H,W,z,this.state.hoverInfo?o.createElement("text",{className:"tooltip",fontStyle:"bold",x:this.state.hoverInfo.xPos-3,y:this.state.hoverInfo.yPos-5},this.state.hoverInfo.value):null,f),m);var V=x.status?"indicatorLine":"";return o.createElement("div",{className:"scatter-chart chart-container"},o.createElement("svg",{width:g,height:15},o.createElement("defs",null,o.createElement("linearGradient",{id:"linear",x1:"0%",y1:"0%",x2:"100%",y2:"0%"},o.createElement("stop",{offset:"0%","stop-color":l.lightBlue}),o.createElement("stop",{offset:"100%","stop-color":l.darkBlue}))),o.createElement("rect",{x:40,y:2,width:g-80,height:5,fill:"url(#linear)"}),o.createElement("text",{x:30,y:10,fontSize:10},A[0]),o.createElement("text",{x:g-30,y:10,fontSize:10},A[1])),O,o.createElement("div",{style:{height:5},className:V}),o.createElement(i.ResetButton,{width:g,disabled:!(b&&b.low),chart:u,selection:b&&b.low?"brush":""}))},t.defaultProps=l.DefaultChartProps,t}(o.Component);t.default=c},function(e,t,n){"use strict";var a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(1),i=n(4),s=n(5),l=function(e){function t(t){var n=e.call(this,t)||this;return n.state={lastClick:null},n}return a(t,e),t.prototype.onClick=function(e){var t=this;return function(){t.setState({lastClick:Date.now()}),setTimeout(function(){t.state.lastClick<Date.now()-3e3&&t.setState({lastClick:null})},3001),o.diel.LogData.eventLog({$eventName:i.EventType[i.EventType.HappyOrNot],$parameter:s.FeedbackType[e]})}},t.prototype.render=function(){return r.createElement("div",null,r.createElement("p",{style:{display:"inline-block"}},"How do you feel using the tool right now?"),r.createElement("button",{className:"happyOrNotBtn zoomOnHover",onClick:this.onClick(s.FeedbackType.Happy)},"😃"),r.createElement("button",{className:"happyOrNotBtn zoomOnHover",onClick:this.onClick(s.FeedbackType.Angry)},"😡"),r.createElement("button",{className:"happyOrNotBtn zoomOnHover",onClick:this.onClick(s.FeedbackType.Confused)},"😵"),this.state.lastClick?r.createElement("p",{style:{display:"inline-block"}},"Got your feedback!"):null)},t}(r.Component);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),r=n(2),o=n(1);t.ChronicleSlider=function(e){var t=e.focusItx,n=e.itxIdsInfo,i=r.LayoutInfo.timeLine.width;if(!n)return a.createElement("div",{style:{marginTop:50,width:i,height:10}});var s=Math.floor(i/30),l=Math.ceil(n.length/s),c=30*(l+1),u=n.map(function(e,r){var i=r%s*30,c=30*(l-Math.floor(r/s));return a.createElement(a.Fragment,null,a.createElement("rect",{x:i,y:c,width:25,height:25,fill:t===e.itxId?"orange":"green",className:e.loaded?"":"flashing",onClick:function(){return o.diel.Input.navigateItx({$xFilterItxId:e.itxId})},style:{cursor:"pointer"}}),a.createElement("text",{x:i+5,y:c+15,"font-size":"15",style:{pointerEvents:"none"},fill:"white"},r===n.length-1?"N":r+1))});return a.createElement("svg",{width:i,height:c},u)}},function(e,t,n){"use strict";function a(e,t){i.diel.LogData.taskInfo({$qId:e.qId,$taskType:s.TaskTypes[e.type],$isTraining:t?1:0}),e.type===s.TaskTypes.Recall&&i.diel.LogData.memoryTask({$qId:e.qId,$linkedQId:e.linkedQId})}var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=n(1),s=n(5),l=function(e){function t(t){var n=e.call(this,t)||this;return n.nextStep=n.nextStep.bind(n),n.onChange=n.onChange.bind(n),n.tick=n.tick.bind(n),n.state={step:s.TaskStep.Description,answer:null,timer:null,timeElapsed:0,warn:!1},i.diel.SetFreeze(!0),a(n.props.question,n.props.isTraining),n}return r(t,e),t.prototype.tick=function(){this.setState({timeElapsed:this.state.timeElapsed+1})},t.prototype.componentWillReceiveProps=function(e){e.question.qId!==this.props.question.qId&&(clearTimeout(this.state.timer),a(e.question,this.props.isTraining),this.setState({answer:null,timeElapsed:0,step:s.TaskStep.Description}))},t.prototype.onChange=function(e){var t=e.target.value;this.state.warn?this.setState({warn:!1,answer:t}):this.setState({answer:t})},t.prototype.nextStep=function(e){return console.log("is this event called",e),e===s.TaskStep.Answering?(this.props.question.type!==s.TaskTypes.Recall&&i.diel.SetFreeze(!1),i.diel.LogData.taskTimes({$qId:this.props.question.qId,$eventType:"start"}),console.log("logged start"),void this.setState({timer:window.setInterval(this.tick,1e3),step:e})):e===s.TaskStep.Submitted?this.state.answer?(clearInterval(this.state.timer),i.diel.SetFreeze(!0),i.diel.LogData.taskTimes({$qId:this.props.question.qId,$eventType:"end"}),console.log("logged end"),void this.setState({step:e})):void this.setState({warn:!0}):void 0},t.prototype.render=function(){var e,t,n=this,a=this.props,r=a.isTraining,i=a.question,l=a.nextTask,c=this.state,u=c.step,h=c.answer,p=o.createElement("p",{className:"question"},i.question),d=i.choices.map(function(e){return o.createElement("label",null,o.createElement("input",{required:!0,type:"radio",disabled:u===s.TaskStep.Submitted,value:e.text,checked:!!h&&h.indexOf(e.text)>-1,"data-score":e.value,onChange:n.onChange}),e.text)});if(u===s.TaskStep.Description)t=o.createElement("button",{className:"general-btn exp-nav-btn",onClick:function(){return n.nextStep(s.TaskStep.Answering)}},"Start Task"),e=o.createElement("p",{className:"footnote"},'You must click "Start Task" to activate the interactive visualization');else if(u===s.TaskStep.Answering)t=o.createElement("button",{className:"general-btn submit-btn",onClick:function(){return n.nextStep(s.TaskStep.Submitted)}},"Submit");else if(u===s.TaskStep.Submitted){t=o.createElement("button",{className:"general-btn exp-nav-btn",onClick:function(){return l()}},"Next Task");var f=void 0;if(r){var m=i.choices.filter(function(e){return 1===e.value}),y=m.filter(function(e){return e.text===n.state.answer}).length>0;f=y?o.createElement("div",null,o.createElement("hr",null),o.createElement("p",{className:"correct"},y?"Correct Answer!":"Wrong Answer"),m.length>1?o.createElement("p",null,"Other possible correct answers: ",m.filter(function(e){return e.text!==n.state.answer}).map(function(e){return e.text+" "})):null):o.createElement("div",null,o.createElement("hr",null),o.createElement("p",{className:"warning"},"Wrong answer."),m.length>1?o.createElement("p",null,"Possible correct answers is any of the following: ",m.map(function(e){return e.text+" "})):o.createElement("p",null,"Correct answer: ",m[0].text))}e=o.createElement(o.Fragment,null,f,o.createElement("hr",null),o.createElement("p",null,"Feel free to take a break now before you start your next question! Otherwise, please try to complete the next task in one sitting."))}return o.createElement("div",{className:"task-container"},this.props.question.type===s.TaskTypes.Recall?this.props.isTraining?o.createElement("p",null,'In this question we are testing your ability to recall some information you might have seen while doing the previous task ("memeory question"). You cannot interact with the visualizations for these questions ---try your best to remember.'):o.createElement("p",null,"Memory question (no interactions with the visualization)"):null,p,this.state.warn?o.createElement("p",{className:"warning"},"Please select an answer"):null,o.createElement("div",{className:"radio-button-wrapper"},d),e,o.createElement("div",{style:{height:5}}),t,o.createElement("p",{style:{color:"gray"}},"Task time elapsed: ",this.state.timeElapsed," s"))},t}(o.Component);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(0);t.TrainingIntro=function(e){return a.createElement(a.Fragment,null,a.createElement("div",{className:"introSection"},a.createElement("h2",null,"Analyze flights fun! ✈️"),a.createElement("p",null,"You will be viewing an interactive visualization dashboard of flights of December 2017 to Hawaii. It visualizes the information about flights containing information about their departure city, day, carrier, and delays."),a.createElement("p",null,"We have synthesized the data based on real data. Please ",a.createElement("strong",null,"do not")," use your existing knowledge to complete the tasks. Also please do not Google the results---it will not be needed and interferes with our results.")),a.createElement("p",null,"We will walk you through a tutorial that demonstrates the functionality of the dashboard, and you will be asked to complete a few training questions. The training questions will be over the data from the first half of December, and the actual tasks will be over the second half of December. The visualization tools will stay the same, and the questions similar (though answers, of course, different)."),a.createElement("p",null,'Note that you will not be able to interact with the visualization once you click on "Ready to Answer".'),a.createElement("p",null,"If after the tutorial you feel that you do not understand what the tasks are in training, we ask you to drop the HIT. We realize that the HIT may not be for everyone and may require some data analysis skills."),a.createElement("div",{className:"introSection"},a.createElement("h2",null,"Time!⏱️"),a.createElement("p",null,"You are encouraged to complete the tasks both accurately and efficiently. Please try not to take breaks ",a.createElement("strong",null,"during "),"a task, but feel free to take breaks ",a.createElement("strong",null,"between")," tasks.  If we detect that you left the window, you will not be paid for that task you completed. We may send out up to $2 of reward for those who performed effectively.")),a.createElement("button",{className:"general-btn exp-nav-btn",onClick:e.onClick},"next"))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(0);t.TaskIntro=function(e){return a.createElement(a.Fragment,null,a.createElement("h2",null,"You Are Now Ready For Tasks!"),a.createElement("p",null,"You will now be viewing an interactive visualization over the same data but from the second half of the month. Again, we remind you to try to complete the task as quickly and as accurately as possible."),a.createElement("p",null,"There will be three tasks total. Good luck!"),a.createElement("button",{className:"general-btn exp-nav-btn",onClick:e.onClick},"Start Tasks"))}},function(e,t,n){"use strict";var a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(6),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.render=function(){var e=this.props,t=e.onClick,n=e.disabled,a=window,i=/constructor/i.test(a.HTMLElement)||function(e){return"[object SafariRemoteNotification]"===e.toString()}(!a.safari||void 0!==a.safari&&a.safari.pushNotification),s=!!window.chrome&&!!window.chrome.webstore,l=!1;return function(e){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(l=!0)}(navigator.userAgent||navigator.vendor||a.opera),r.createElement("div",null,r.createElement("h2",null,"Interactive Visualization User Study"),r.createElement("p",null,"This HIT consists of a series of visual analysis tasks. In these tasks, you will be presented with an interactive visualization dashboard of some flight delay data. You will be asked to perform basic analysis of the data, which requires interacting with the data visualization."),r.createElement("p",null,"The results of these tasks will be used for a research study on novel user experience design for interactive visualizations. The purpose of the study is to inform the design of interfaces for visual analytics tasks when there are delays. You may view our ",r.createElement("a",{href:"./policy.html",target:"_blank"},"privacy policy")," for more information. Your anonymized data may be used for publication."),r.createElement("p",null,"Your participation in this study is voluntary, and you will receive a $",o.TaskReward.toFixed(2)," reward for each task completed. After completing all of the tasks, you will receive a $",o.BonusReward.toFixed(2)," completion bonus reward. You ",r.createElement("b",null,"must"),' complete all the tasks in this HIT to receive the completion bonus. If you do not wish to complete all the tasks, you can press the "Finish and claim current reward" button to exit this HIT and be paid your accumulated reward. You will only be paid once you complete all the tasks or click the finish button, given that the tasks are done with reasonable effort (i.e. no completely arbitrary guessing).'),s||i?null:r.createElement("p",{className:"warning"},"Please ensure that you are using the ",r.createElement("strong",null,"Chrome or Safari")," browswers (we have detected that you might be using an incompatible browswer), otherwise you will not be able to continue."),r.createElement("p",null,"Also please ensure that you are using a none mobile device"),l?r.createElement("p",{className:"warnining"},"We have detected that you might be using a mobile device. This may cause the tool for the tasks to mal function, and we not be able to compensate you for your tasks."):null,r.createElement("p",null,"If you are ready to begin, please click the button below."),r.createElement("button",{className:"general-btn exp-nav-btn",onClick:t,disabled:n},"I understand, and consent to participate"))},t}(r.Component);t.default=i},function(e,t,n){"use strict";var a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(8),i=n(32),s=function(e){function t(t){var n=e.call(this,t)||this;return n.startAgain=n.startAgain.bind(n),n.setStep=n.setStep.bind(n),n.state={step:0,introTour:null,showPopup:!1},n}return a(t,e),t.prototype.componentDidMount=function(){var e=introJs().setOptions({exitOnOverlayClick:!1});e.start(),this.setState({introTour:e})},t.prototype.setStep=function(e){this.setState({step:e})},t.prototype.startAgain=function(){this.state.introTour.start()},t.prototype.render=function(){var e=this,t=this.setStep,n=[{title:"Selection Without Waiting",videoLink:"./dist/concurrent_interaction.mov",texts:["The visualization tool allows you to perform multiple interactions at the same time."]},{title:"Navigate Results By Clicking on History Blocks",videoLink:"./dist/history_nav_click.mov",texts:["You can revisit these past results after by clicking on the blocks or using arrow keys;\n                 this way, you don't have to wait for every single result before you can proceed."]},{title:"Selection Across Charts Without Waiting",videoLink:"./dist/concurrent_interaction_multiple.mov",texts:["This video shows a user specifying multiple filters across charts---there is\n                 no need to wait for individual ones."]},{title:"Navigate Results By Pressing Arrow Keys",videoLink:"./dist/history_nav_key.mov",texts:["Similar to before, you can revisit past results.  Know that you also have the option of using up/left or down/right\n                 keys for navigating in history."]},{title:"Zoom to read small amounts of values",videoLink:"./dist/zoom.mov",texts:['This video shows a user using the "zoom" button to see the results in greater detail.\n                 You can always go back and "unzoom" after as well.']}],a=this.state.step>0&&this.state.step<n.length?r.createElement(i.VideoPopup,{title:n[this.state.step].title,videoLink:n[this.state.step].videoLink,texts:n[this.state.step].texts,onClick:function(){return t(e.state.step+1)}}):null;return r.createElement(r.Fragment,null,r.createElement(o.default,{showIntro:!0}),r.createElement("div",{style:{float:"left",paddingLeft:20}},a,r.createElement("button",{className:"tour-btn general-btn",onClick:this.startAgain,"data-step":7,"data-intro":"Click this button if you want to check the tutorial again\n            --- after you proceed to the next step, you will not be able to walk through the tutorial again.\n            Otherwise, please proceed to continue to techniques below."},"Show Tour Again"),r.createElement("hr",null),this.state.step===n.length?r.createElement("button",{className:"general-btn exp-nav-btn",onClick:this.props.onClick},"Continue to training tasks"):r.createElement("button",{className:"general-btn exp-nav-btn",onClick:function(){return t(1)}},"Continue on to techniques")))},t}(r.Component);t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(0);t.VideoPopup=function(e){var t=e.onClick,n=e.videoLink,r=e.texts,o=e.title;return a.createElement("div",{className:"popup"},a.createElement("div",{className:"popup-inner"},a.createElement("h3",{style:{textAlign:"center"}},o),a.createElement("video",{autoPlay:!0,src:n,controls:!0,style:{maxHeight:"60%",maxWidth:"90%"}}),a.createElement("div",{className:"description"},r.map(function(e){return a.createElement("p",null,e)}),a.createElement("button",{className:"general-btn",onClick:t},"Got it"))))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FlowSurveyQuestions=new Map,t.FlowSurveyQuestions.set("flowChallenge","I feel just the right amount of challenge"),t.FlowSurveyQuestions.set("flowSmooth","My thoughts/activities run fluidly and smoothly"),t.FlowSurveyQuestions.set("flowTime","I do not notice time passing"),t.FlowSurveyQuestions.set("flowConcentrate","I have no difficulty concentrating"),t.FlowSurveyQuestions.set("flowClear","My mind is completely clear"),t.FlowSurveyQuestions.set("flowAbsorbed","I am totally absorbed in what I am doing"),t.FlowSurveyQuestions.set("flowAccord","The right thoughts/movements occur of their own accord"),t.FlowSurveyQuestions.set("flowKnow","I know what I have to do each step of the way"),t.FlowSurveyQuestions.set("flowControl","I feel that I have everything under control"),t.FlowSurveyQuestions.set("flowLost","I am completely lost in thought"),t.FlowSurveyQuestions.set("flowStake","Something important to me is at stake here"),t.FlowSurveyQuestions.set("flowMistake","I must not make any mistakes here"),t.FlowSurveyQuestions.set("flowWorried","I am worried about failing"),t.FlowSurveySequence=["flowChallenge","flowSmooth","flowTime","flowConcentrate","flowClear","flowAbsorbed","flowAccord","flowKnow","flowControl","flowLost","flowStake","flowMistake","flowWorried"],t.UsabilitySurveyQuestions=new Map,t.UsabilitySurveyQuestions.set("tool","Do you feel like the tool supported your taks completion?"),t.UsabilitySurveyQuestions.set("delay","Were the delays frustrating, or made things difficult?"),t.UsabilitySurveyQuestions.set("chronicles","Did you find the ability to navigate between histories helpful?"),t.UsabilitySurveySequence=["tool","delay","chronicles"]}]);
//# sourceMappingURL=bundle.js.map